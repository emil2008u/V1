<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MARKIdentity - NFT Platform</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Alata&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Общие стили */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        transition: all 0.3s ease;
      }

      body {
        font-family: "Roboto", sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        max-width: 500px;
        margin: 0 auto;
        position: relative;
        height: 100vh;
        overflow: hidden;
        background-color: #f5f5f5;
      }

      /* Фоновое изображение */
      .background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("img/056026b6db13070cbe45543d3d1ef857.png");
        background-size: cover;
        background-position: 30% center;
        background-repeat: no-repeat;
        z-index: -1;
        transition: background-position 0.8s cubic-bezier(0.33, 1, 0.68, 1);
      }

      /* Экраны авторизации */
      .screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.5s ease;
        padding: 20px;
        box-sizing: border-box;
      }

      .screen.active {
        opacity: 1;
        pointer-events: all;
      }

      .content {
        text-align: center;
        color: white;
        width: 100%;
        max-width: 350px;
      }

      /* Splash Screen */
      .mark-identity {
        font-family: "Roboto", sans-serif;
        font-weight: 700;
        font-size: 54px;
        line-height: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        letter-spacing: 0.5px;
        color: white;
      }

      .mark-identity span {
        font-family: "Alata", sans-serif;
        font-weight: 400;
        font-size: 28px;
        letter-spacing: 0.3px;
        color: #01ff77;
      }

      /* Welcome Screen */
      .welcome-title {
        font-family: "Roboto", sans-serif;
        font-weight: 700;
        font-size: 48px;
        margin-bottom: 20px;
        color: white;
        letter-spacing: 0.5px;
      }

      .welcome-text {
        font-size: 24px;
        margin-bottom: 40px;
        color: white;
      }

      .features {
        margin: 30px auto;
        max-width: 500px;
      }

      .feature-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 0;
      }

      .feature-item span {
        font-family: "Alata", sans-serif;
        font-weight: 400;
        font-size: 20px;
        color: #01ff77;
        letter-spacing: 0.3px;
      }

      .icon-feature {
        font-size: 30px;
        color: #01ff77;
        margin-left: 15px;
      }

      .next-btn-container {
        display: flex;
        justify-content: center;
        margin-top: 40px;
      }

      /* Обновленные стили кнопок с анимацией переливающихся цветов */
      .next-btn,
      .submit-btn,
      .continue-btn,
      .create-nft-btn,
      .buy-btn,
      .generate-qr-btn {
        padding: 15px 40px;
        background: #01ff77;
        color: #000;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        border-radius: 30px;
        border: none;
        position: relative;
        overflow: hidden;
        z-index: 1;
        transition: all 0.3s ease;
      }

      .next-btn:hover,
      .submit-btn:hover,
      .continue-btn:hover,
      .create-nft-btn:hover,
      .buy-btn:hover,
      .generate-qr-btn:hover {
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .next-btn::before,
      .submit-btn::before,
      .continue-btn::before,
      .create-nft-btn::before,
      .buy-btn::before,
      .generate-qr-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 200%;
        height: 100%;
        background: linear-gradient(115deg, #01ff77, #00e676, #01ff77, #00e676);
        background-size: 50% 100%;
        z-index: -1;
        transition: all 0.5s ease;
      }

      .next-btn:hover::before,
      .submit-btn:hover::before,
      .continue-btn:hover::before,
      .create-nft-btn:hover::before,
      .buy-btn:hover::before,
      .generate-qr-btn:hover::before {
        animation: gradientBG 1.5s ease infinite;
        background-position: 100% 0;
      }

      @keyframes gradientBG {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Активное состояние кнопки (при нажатии) */
      .next-btn:active,
      .submit-btn:active,
      .continue-btn:active,
      .create-nft-btn:active,
      .buy-btn:active,
      .generate-qr-btn:active {
        transform: translateY(0);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      /* Auth Screen */
      .auth-screen {
        background: rgba(0, 0, 0, 0.5);
        justify-content: flex-start;
        padding-top: 60px;
      }

      .auth-form {
        display: none;
        width: 100%;
        max-width: 350px;
      }

      .auth-form.active {
        display: block;
      }

      .auth-header {
        width: 100%;
        margin-bottom: 20px;
        text-align: center;
      }

      .auth-title {
        font-family: "Roboto", sans-serif;
        font-weight: 700;
        font-size: 32px;
        color: white;
        letter-spacing: 0.5px;
      }

      .auth-container {
        background: white;
        padding: 30px;
        border-radius: 15px;
        width: 100%;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .form-group {
        margin-bottom: 20px;
        text-align: left;
      }

      .form-group label {
        display: block;
        color: #333;
        margin-bottom: 8px;
        font-size: 14px;
        font-weight: 500;
      }

      .form-group input {
        width: 100%;
        padding: 12px 15px;
        background: #f5f5f5;
        border: 1px solid #ddd;
        border-radius: 8px;
        color: #333;
        font-size: 16px;
      }

      .form-group input::placeholder {
        color: #999;
      }

      .forgot-password {
        background: none;
        border: none;
        color: #888;
        font-size: 14px;
        margin-top: 15px;
        cursor: pointer;
        padding: 5px 0;
        text-decoration: underline;
        float: left;
        width: 100%;
        text-align: left;
      }

      .divider {
        color: #999;
        margin: 25px 0;
        text-align: center;
        position: relative;
        font-size: 14px;
      }

      .divider::before,
      .divider::after {
        content: "";
        position: absolute;
        top: 50%;
        width: 40%;
        height: 1px;
        background: #ddd;
      }

      .divider::before {
        left: 0;
      }

      .divider::after {
        right: 0;
      }

      .social-buttons {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
      }

      .social-btn {
        width: 45px;
        height: 45px;
        border-radius: 50%;
        border: 1px solid #ddd;
        font-size: 18px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        background: white;
        color: #333;
        transition: all 0.3s ease;
      }

      .social-btn:hover {
        background: #01ff77;
        color: white;
        border-color: #01ff77;
      }

      .switch-auth {
        margin-top: 15px;
        color: #888;
        font-size: 14px;
      }

      .switch-auth a {
        color: #01ff77;
        text-decoration: none;
      }

      /* Основное приложение */
      .app-content {
        display: none;
        height: 100vh;
        overflow-y: auto;
        background-color: #f5f5f5;
      }

      .app-content.active {
        display: block;
      }

      .page {
        display: none;
        padding-bottom: 70px;
      }

      .page.active {
        display: block;
      }

      /* Home Page */
      .home-page .search-bar {
        display: flex;
        align-items: center;
        padding: 15px;
        background-color: white;
        border-bottom: 1px solid #e0e0e0;
      }

      .home-page .search-input {
        flex: 1;
        display: flex;
        align-items: center;
        background-color: #f5f5f5;
        border-radius: 20px;
        padding: 8px 15px;
        margin: 0 10px;
      }

      .home-page .search-input i {
        color: #888;
        margin-right: 8px;
      }

      .home-page .search-input input {
        flex: 1;
        border: none;
        background: transparent;
        outline: none;
        font-size: 16px;
      }

      .home-page .menu-icon {
        font-size: 20px;
        color: #333;
        cursor: pointer;
      }

      .home-page .nft-post {
        background-color: white;
        margin-bottom: 15px;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .home-page .user-info {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
      }

      .home-page .avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #ddd;
        margin-right: 10px;
        overflow: hidden;
      }

      .home-page .avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .home-page .username {
        font-weight: bold;
        font-size: 16px;
      }

      .home-page .post-time {
        font-size: 12px;
        color: #888;
        margin-top: 2px;
      }

      .home-page .nft-title {
        color: #01ff77;
        font-weight: bold;
        font-size: 18px;
        margin: 10px 0;
      }

      .home-page .nft-description {
        font-size: 14px;
        color: #333;
        margin-bottom: 10px;
      }

      .home-page .tags {
        display: flex;
        flex-wrap: wrap;
        margin-bottom: 15px;
      }

      .home-page .tag {
        color: #01ff77;
        font-size: 12px;
        margin-right: 8px;
        margin-bottom: 5px;
      }

      .home-page .nft-content {
        display: flex;
        margin-bottom: 15px;
      }

      .home-page .nft-image {
        width: 120px;
        height: 120px;
        border-radius: 10px;
        overflow: hidden;
        margin-right: 15px;
      }

      .home-page .nft-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .home-page .sound-wave {
        flex: 1;
        background-color: #f5f5f5;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #888;
        font-size: 14px;
      }

      .home-page .post-actions {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding-top: 10px;
        border-top: 1px solid #f0f0f0;
      }

      .home-page .action-left {
        display: flex;
        align-items: center;
      }

      .home-page .like-btn,
      .home-page .comment-btn,
      .home-page .share-btn {
        display: flex;
        align-items: center;
        margin-right: 15px;
        color: #333;
        font-size: 14px;
        cursor: pointer;
      }

      .home-page .like-btn:hover,
      .home-page .comment-btn:hover,
      .home-page .share-btn:hover {
        color: #01ff77;
      }

      .home-page .like-btn i,
      .home-page .comment-btn i,
      .home-page .share-btn i {
        margin-right: 5px;
        font-size: 18px;
      }

      /* Комментарии */
      .comments-section {
        margin-top: 15px;
        padding-top: 15px;
        border-top: 1px solid #f0f0f0;
      }

      .comment-form {
        display: flex;
        margin-bottom: 15px;
      }

      .comment-input {
        flex: 1;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 20px;
        outline: none;
      }

      .comment-submit {
        margin-left: 10px;
        padding: 0 15px;
        background-color: #01ff77;
        color: white;
        border: none;
        border-radius: 20px;
        cursor: pointer;
      }

      .comment-list {
        max-height: 200px;
        overflow-y: auto;
      }

      .comment-item {
        display: flex;
        margin-bottom: 10px;
      }

      .comment-avatar {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        margin-right: 10px;
        overflow: hidden;
      }

      .comment-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .comment-content {
        flex: 1;
      }

      .comment-user {
        font-weight: bold;
        font-size: 14px;
      }

      .comment-text {
        font-size: 14px;
        color: #333;
      }

      .comment-time {
        font-size: 12px;
        color: #888;
      }

      /* Wallet Page */
      .wallet-section {
        padding: 0 20px;
      }

      .wallet-title {
        text-align: center;
        font-size: 24px;
        margin-bottom: 20px;
        padding-top: 20px;
        color: #333;
      }

      .tokens-container {
        display: flex;
        overflow-x: auto;
        gap: 15px;
        padding: 10px 0;
        scrollbar-width: none;
      }

      .tokens-container::-webkit-scrollbar {
        display: none;
      }

      .token-card {
        min-width: 120px;
        border: 2px solid #4caf50;
        border-radius: 10px;
        padding: 15px;
        transition: all 0.3s ease;
        cursor: pointer;
        background-color: white;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .token-card:hover {
        border-color: #2e7d32;
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .token-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .token-name {
        font-weight: bold;
        color: #333;
      }

      .token-logo {
        width: 24px;
        height: 24px;
        background-color: #ddd;
        border-radius: 50%;
      }

      .token-footer {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        margin-top: 15px;
      }

      .token-divider {
        border-top: 1px dashed #ccc;
        flex-grow: 1;
        margin: 0 5px;
        align-self: flex-end;
      }

      .token-placeholder {
        color: #888;
        font-size: 14px;
      }

      .token-usd {
        color: black;
        font-weight: bold;
        transition: color 0.3s ease;
      }

      .token-card:hover .token-usd {
        color: #4caf50;
      }

      .nft-section {
        padding: 20px;
      }

      .nft-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .nft-title {
        font-size: 20px;
        font-weight: bold;
        color: #333;
      }

      .config-button {
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
        color: #333;
      }

      .nft-container {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
      }

      .nft-item {
        border-radius: 12px;
        overflow: hidden;
        background-color: white;
        aspect-ratio: 16/9;
        position: relative;
        border: 1px solid #e0e0e0;
        transition: all 0.3s ease;
      }

      .nft-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .nft-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      /* NFT Flip Card */
      .nft-flip-card {
        width: 100%;
        height: 100%;
        perspective: 1000px;
      }

      .nft-flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        transition: transform 0.6s;
        transform-style: preserve-3d;
      }

      .nft-flip-card:hover .nft-flip-card-inner {
        transform: rotateY(180deg);
      }

      .nft-flip-card-front,
      .nft-flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
      }

      .nft-flip-card-back {
        background-color: white;
        transform: rotateY(180deg);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 10px;
      }

      /* Alert Page */
      .alert-page {
        padding: 15px;
      }

      .alert-page .alert-title {
        font-weight: bold;
        font-size: 20px;
        text-align: center;
        margin-bottom: 20px;
      }

      .alert-page .notification {
        background-color: #e0f7fa;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 15px;
        transition: all 0.3s ease;
      }

      .alert-page .notification:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .alert-page .notification-title {
        font-weight: bold;
        font-size: 16px;
        margin-bottom: 5px;
        display: flex;
        justify-content: space-between;
      }

      .alert-page .notification-time {
        color: #888;
        font-size: 12px;
      }

      .alert-page .notification-text {
        font-size: 14px;
        color: #333;
      }

      /* Profile Page */
      .profile-page .profile-header {
        background-color: white;
        padding: 20px;
        text-align: center;
        position: relative;
        margin-bottom: 15px;
      }

      .profile-page .back-btn {
        position: absolute;
        left: 15px;
        top: 20px;
        background-color: #01ff77;
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .profile-page .back-btn:hover {
        transform: scale(1.1);
      }

      .profile-page .profile-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        margin: 0 auto 10px;
        overflow: hidden;
        background-color: #ddd;
      }

      .profile-page .profile-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .profile-page .profile-name {
        font-weight: bold;
        font-size: 18px;
        margin-bottom: 5px;
      }

      .profile-page .profile-location {
        color: #888;
        font-size: 14px;
        margin-bottom: 10px;
      }

      .profile-page .profile-bio {
        font-size: 14px;
        color: #333;
        margin-bottom: 20px;
        padding: 0 20px;
      }

      .profile-page .section-title {
        font-weight: bold;
        font-size: 16px;
        margin: 15px;
      }

      .profile-page .account-card {
        background-color: white;
        border-radius: 10px;
        padding: 15px;
        margin: 0 15px 15px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .profile-page .account-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #f0f0f0;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .profile-page .account-item:hover {
        background-color: #f5f5f5;
      }

      .profile-page .account-item:last-child {
        border-bottom: none;
      }

      .profile-page .account-item i {
        color: #01ff77;
        margin-right: 10px;
      }

      .add-nft-title {
        font-weight: bold;
        font-size: 20px;
        text-align: center;
        margin-bottom: 10px;
      }

      .add-nft-subtitle {
        text-align: center;
        margin-bottom: 20px;
        color: #666;
      }

      .form-section {
        margin-bottom: 25px;
      }

      .section-title {
        font-weight: bold;
        margin-bottom: 10px;
        display: block;
      }

      .upload-area {
        border: 2px dashed #ccc;
        border-radius: 10px;
        padding: 20px;
        text-align: center;
        margin-bottom: 15px;
        cursor: pointer;
        display: flex;
        align-items: center;
        transition: all 0.3s ease;
      }

      .upload-area:hover {
        border-color: #01ff77;
        background-color: #f5f5f5;
      }

      .upload-icon {
        width: 60px;
        height: 60px;
        background-color: #f5f5f5;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
      }

      .upload-text {
        text-align: left;
      }

      .upload-text strong {
        display: block;
        margin-bottom: 5px;
      }

      .upload-text small {
        color: #888;
        font-size: 12px;
        display: block;
      }

      .input-group {
        display: flex;
        margin-bottom: 15px;
      }

      .input-field {
        flex: 1;
        margin-right: 10px;
      }

      .input-field:last-child {
        margin-right: 0;
      }

      .input-field label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }

      .input-field input {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: #f5f5f5;
        transition: all 0.3s ease;
      }

      .input-field input:focus {
        border-color: #01ff77;
        box-shadow: 0 0 0 2px rgba(1, 255, 119, 0.2);
      }

      .blockchain-options {
        margin-bottom: 20px;
      }

      .blockchain-option {
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 10px;
        cursor: pointer;
        display: flex;
        align-items: center;
        transition: all 0.3s ease;
      }

      .blockchain-option:hover {
        border-color: #01ff77;
        transform: translateY(-3px);
      }

      .blockchain-option.selected {
        border-color: #01ff77;
        background-color: #f0fff0;
      }

      .blockchain-logo {
        width: 40px;
        height: 40px;
        background-color: #ddd;
        border-radius: 50%;
        margin-right: 15px;
      }

      .blockchain-info {
        flex: 1;
      }

      .blockchain-name {
        font-weight: bold;
        display: flex;
        justify-content: space-between;
      }

      .blockchain-name .tag {
        background-color: #01ff77;
        color: black;
        padding: 2px 8px;
        border-radius: 10px;
        font-size: 12px;
      }

      .blockchain-details {
        color: #888;
        font-size: 12px;
        margin-top: 5px;
      }

      .nft-type-options {
        margin-bottom: 20px;
      }

      .nft-type-option {
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 10px;
        cursor: pointer;
        display: flex;
        align-items: center;
        transition: all 0.3s ease;
      }

      .nft-type-option:hover {
        border-color: #01ff77;
        transform: translateY(-3px);
      }

      .nft-type-option.selected {
        border-color: #01ff77;
        background-color: #f0fff0;
      }

      .nft-type-icon {
        width: 40px;
        height: 40px;
        background-color: #ddd;
        border-radius: 50%;
        margin-right: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .nft-type-info {
        flex: 1;
      }

      .nft-type-name {
        font-weight: bold;
        display: flex;
        justify-content: space-between;
      }

      .nft-type-description {
        color: #888;
        font-size: 12px;
        margin-top: 5px;
      }

      .ownership-options {
        display: flex;
        margin-bottom: 20px;
      }

      .ownership-option {
        flex: 1;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 10px;
        margin-right: 10px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .ownership-option:hover {
        border-color: #01ff77;
        transform: translateY(-3px);
      }

      .ownership-option:last-child {
        margin-right: 0;
      }

      .ownership-option.selected {
        border-color: #01ff77;
        background-color: #f0fff0;
      }

      .ownership-option i {
        font-size: 24px;
        margin-bottom: 5px;
      }

      .text-input {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: #f5f5f5;
        margin-bottom: 15px;
        transition: all 0.3s ease;
      }

      .text-input:focus {
        border-color: #01ff77;
        box-shadow: 0 0 0 2px rgba(1, 255, 119, 0.2);
      }

      .tags-input {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: #f5f5f5;
        margin-bottom: 15px;
      }

      .attributes-control {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
      }

      .attributes-count {
        margin: 0 15px;
        font-weight: bold;
      }

      .attribute-btn {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: #f5f5f5;
        border: none;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .attribute-btn:hover {
        background-color: #01ff77;
        color: white;
      }

      .add-trait-btn {
        display: flex;
        align-items: center;
        color: #01ff77;
        font-weight: bold;
        background: none;
        border: none;
        cursor: pointer;
        margin-bottom: 20px;
        transition: all 0.3s ease;
      }

      .add-trait-btn:hover {
        color: #00cc5e;
      }

      .add-trait-btn i {
        margin-right: 5px;
      }

      /* NFT Flip Card */
      .nft-flip-card {
        width: 100%;
        height: 100%;
        perspective: 1000px;
      }

      .nft-flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        transition: transform 0.6s;
        transform-style: preserve-3d;
      }

      .nft-flip-card:hover .nft-flip-card-inner {
        transform: rotateY(180deg);
      }

      .nft-flip-card-front,
      .nft-flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
      }

      .nft-flip-card-back {
        background-color: white;
        transform: rotateY(180deg);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 10px;
      }

      .qrcode-title {
        margin-top: 10px;
        font-size: 12px;
        text-align: center;
        color: #333;
      }

      /* Нижняя навигация */
      .bottom-nav {
        display: flex;
        justify-content: space-around;
        padding: 10px 0;
        background-color: white;
        border-top: 1px solid #ddd;
        position: fixed;
        bottom: 0;
        width: 100%;
        max-width: 500px;
        z-index: 100;
      }

      .nav-item {
        text-align: center;
        padding: 5px;
        cursor: pointer;
        color: #888;
        font-size: 12px;
        display: flex;
        flex-direction: column;
        align-items: center;
        transition: all 0.3s ease;
      }

      .nav-item:hover {
        color: #01ff77;
      }

      .nav-item i {
        font-size: 20px;
        margin-bottom: 5px;
      }

      .nav-item.active {
        color: black;
      }

      /* Security Page Styles */
      .security-page {
        background-color: #f5f5f5;
        padding: 15px;
      }

      .security-title {
        font-weight: bold;
        font-size: 24px;
        text-align: center;
        margin: 20px 0;
      }

      .security-container {
        background-color: white;
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }

      .toggle-2fa {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }

      .info-text {
        color: #888;
        font-size: 14px;
        margin-top: 5px;
      }

      /* Wallet Settings Styles */
      .wallet-settings-page {
        background-color: #f5f5f5;
        padding: 15px;
      }

      .wallet-settings-title {
        font-weight: bold;
        font-size: 24px;
        text-align: center;
        margin: 20px 0;
      }

      .wallet-settings-container {
        background-color: white;
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }

      .setup-wallet h3 {
        text-align: center;
        margin-bottom: 15px;
      }

      .setup-wallet p {
        text-align: center;
        color: #888;
        margin-bottom: 20px;
      }

      .recovery-phrase {
        background-color: #f5f5f5;
        padding: 15px;
        border-radius: 8px;
        margin: 10px 0;
        word-break: break-all;
        position: relative;
      }

      .copy-btn {
        background-color: #01ff77;
        border: none;
        border-radius: 5px;
        padding: 5px 10px;
        margin-top: 5px;
        cursor: pointer;
      }

      .wallet-info h3 {
        text-align: center;
        margin-bottom: 20px;
      }

      .wallet-detail {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #eee;
      }

      .wallet-address {
        font-family: monospace;
        font-size: 14px;
      }

      .status-active {
        color: #01ff77;
        font-weight: bold;
      }

      .wallet-actions {
        margin-top: 20px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .wallet-action-btn {
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .wallet-action-btn:hover {
        background-color: #f5f5f5;
      }

      .wallet-action-btn.danger {
        color: #ff4444;
        border-color: #ffdddd;
      }

      .wallet-action-btn.danger:hover {
        background-color: #ffeeee;
      }

      /* Toggle switch */
      .switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 24px;
      }

      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: 0.4s;
      }

      .slider:before {
        position: absolute;
        content: "";
        height: 16px;
        width: 16px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: 0.4s;
      }

      input:checked + .slider {
        background-color: #01ff77;
      }

      input:checked + .slider:before {
        transform: translateX(26px);
      }

      .slider.round {
        border-radius: 34px;
      }

      .slider.round:before {
        border-radius: 50%;
      }

      /* Адаптивные стили */
      @media (max-width: 480px) {
        .home-page .nft-content {
          flex-direction: column;
        }

        .home-page .nft-image {
          width: 100%;
          height: 200px;
          margin-right: 0;
          margin-bottom: 10px;
        }

        .home-page .sound-wave {
          height: 60px;
        }

        .input-group {
          flex-direction: column;
        }

        .input-field {
          margin-right: 0;
          margin-bottom: 15px;
        }

        .ownership-options {
          flex-direction: column;
        }

        .ownership-option {
          margin-right: 0;
          margin-bottom: 10px;
        }
      }
    </style>
  </head>
  <body>
    <div id="app">
      <!-- Фоновое изображение -->
      <div
        class="background"
        :style="{backgroundPosition: backgroundPosition}"
      ></div>

      <!-- Экраны авторизации -->
      <div
        class="screen splash-screen"
        :class="{active: currentScreen === 'splash'}"
      >
        <div class="content">
          <h1 class="mark-identity">MARK<span>Identity</span></h1>
        </div>
      </div>

      <div
        class="screen welcome-screen"
        :class="{active: currentScreen === 'welcome'}"
      >
        <div class="content">
          <h1 class="welcome-title">Welcome</h1>
          <p class="welcome-text">
            Is not just a platform – it's your safeguard for creative ownership
          </p>
          <div class="features">
            <div class="feature-item">
              <span>PROTECT YOUR PROPERTY</span>
              <i class="fas fa-brain icon-feature"></i>
            </div>
            <div class="feature-item">
              <span>SECURE YOUR IDEAS</span>
              <i class="fas fa-lock icon-feature"></i>
            </div>
            <div class="feature-item">
              <span>EXPERIENCE YOUR LEGACY</span>
              <i class="fas fa-magic icon-feature"></i>
            </div>
          </div>
          <div class="next-btn-container">
            <button class="next-btn" @click="currentScreen = 'auth'">
              Next
            </button>
          </div>
        </div>
      </div>

      <div
        class="screen auth-screen"
        :class="{active: currentScreen === 'auth'}"
      >
        <div
          class="auth-form signup-form"
          :class="{active: currentAuthForm === 'signup'}"
        >
          <div class="auth-header">
            <h2 class="auth-title">Sign Up</h2>
          </div>
          <div class="auth-container">
            <form @submit.prevent="handleAuth('signup')">
              <div class="form-group">
                <label>Phone Number</label>
                <input
                  type="tel"
                  placeholder="+380995683023"
                  required
                  v-model="signupPhone"
                />
              </div>
              <div class="form-group">
                <label>Password</label>
                <input
                  type="password"
                  placeholder="Enter password"
                  required
                  v-model="signupPassword"
                />
              </div>
              <button type="submit" class="submit-btn">Sign Up</button>
            </form>
            <p class="divider">or</p>
            <div class="social-buttons">
              <button class="social-btn facebook">
                <i class="fab fa-facebook-f"></i>
              </button>
              <button class="social-btn google">
                <i class="fab fa-google"></i>
              </button>
              <button class="social-btn apple">
                <i class="fab fa-apple"></i>
              </button>
            </div>
            <p class="switch-auth">
              Already have an account?
              <a href="#" @click.prevent="currentAuthForm = 'login'">Sign In</a>
            </p>
          </div>
        </div>

        <div
          class="auth-form login-form"
          :class="{active: currentAuthForm === 'login'}"
        >
          <div class="auth-header">
            <h2 class="auth-title">Sign In</h2>
          </div>
          <div class="auth-container">
            <form @submit.prevent="handleAuth('login')">
              <div class="form-group">
                <label>Phone Number</label>
                <input
                  type="tel"
                  placeholder="+380995683023"
                  required
                  v-model="loginPhone"
                />
              </div>
              <div class="form-group">
                <label>Password</label>
                <input
                  type="password"
                  placeholder="Enter password"
                  required
                  v-model="loginPassword"
                />
              </div>
              <button type="submit" class="submit-btn">Sign In</button>
              <button class="forgot-password">Forgot password?</button>
            </form>
            <p class="divider">or</p>
            <div class="social-buttons">
              <button class="social-btn facebook">
                <i class="fab fa-facebook-f"></i>
              </button>
              <button class="social-btn google">
                <i class="fab fa-google"></i>
              </button>
              <button class="social-btn apple">
                <i class="fab fa-apple"></i>
              </button>
            </div>
            <p class="switch-auth">
              Don't have an account?
              <a href="#" @click.prevent="currentAuthForm = 'signup'"
                >Sign Up</a
              >
            </p>
          </div>
        </div>
      </div>

      <!-- Основное приложение -->
      <div class="app-content" :class="{active: currentScreen === 'app'}">
        <!-- Главная страница -->
        <div class="page home-page" :class="{active: currentPage === 'home'}">
          <div class="search-bar">
            <i class="fas fa-bars menu-icon"></i>
            <div class="search-input">
              <i class="fas fa-search"></i>
              <input
                type="text"
                placeholder="Search NFTs..."
                v-model="searchQuery"
                @input="filterPosts"
              />
            </div>
            <i class="fas fa-ellipsis-v menu-icon"></i>
          </div>

          <div class="nft-post" v-for="post in filteredPosts" :key="post.id">
            <div class="user-info">
              <div class="avatar">
                <img
                  :src="post.userAvatar || 'img/default-avatar.png'"
                  alt="User Avatar"
                />
              </div>
              <div>
                <div class="username">{{ post.userName }}</div>
                <div class="post-time">{{ formatTime(post.createdAt) }}</div>
              </div>
            </div>

            <div class="nft-title">{{ post.title }}</div>
            <div class="nft-description">{{ post.description }}</div>

            <div class="tags" v-if="post.tags && post.tags.length">
              <div class="tag" v-for="tag in post.tags" :key="tag">
                #{{ tag }}
              </div>
            </div>

            <div class="nft-content">
              <div class="nft-image">
                <img
                  :src="post.nftImage || 'img/default-nft.png'"
                  alt="NFT Image"
                />
              </div>
              <div class="sound-wave">Sound Wave Visualization</div>
            </div>

            <div class="post-actions">
              <div class="action-left">
                <div class="like-btn" @click="toggleLike(post.id)">
                  <i :class="['far', 'fa-heart', { 'fas': post.liked }]"></i> {{
                  post.likes }}
                </div>
                <div class="comment-btn" @click="toggleComments(post.id)">
                  <i class="far fa-comment"></i> {{ post.comments.length }}
                </div>
                <div class="share-btn">
                  <i class="fas fa-share"></i>
                </div>
              </div>
              <button class="buy-btn" @click="buyNFT(post)">Buy</button>
            </div>

            <!-- Комментарии -->
            <div class="comments-section" v-if="post.showComments">
              <div class="comment-form">
                <input
                  type="text"
                  class="comment-input"
                  placeholder="Write a comment..."
                  v-model="newComment"
                  @keyup.enter="addComment(post.id)"
                />
                <button class="comment-submit" @click="addComment(post.id)">
                  Post
                </button>
              </div>
              <div class="comment-list">
                <div
                  class="comment-item"
                  v-for="comment in post.comments"
                  :key="comment.id"
                >
                  <div class="comment-avatar">
                    <img
                      :src="comment.userAvatar || 'img/default-avatar.png'"
                      alt="User Avatar"
                    />
                  </div>
                  <div class="comment-content">
                    <div class="comment-user">{{ comment.userName }}</div>
                    <div class="comment-text">{{ comment.text }}</div>
                    <div class="comment-time">
                      {{ formatTime(comment.createdAt) }}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Страница кошелька -->
        <div
          class="page wallet-page"
          :class="{active: currentPage === 'wallet'}"
        >
          <div class="wallet-section">
            <h1 class="wallet-title">Your Wallet</h1>
            <div class="tokens-container">
              <div class="token-card">
                <div class="token-header">
                  <div class="token-name">ICP</div>
                  <div class="token-logo"></div>
                </div>
                <div class="token-footer">
                  <div class="token-placeholder">---</div>
                  <div class="token-divider"></div>
                  <div class="token-usd">342$</div>
                </div>
              </div>
              <div class="token-card">
                <div class="token-header">
                  <div class="token-name">Polygon</div>
                  <div class="token-logo"></div>
                </div>
                <div class="token-footer">
                  <div class="token-placeholder">---</div>
                  <div class="token-divider"></div>
                  <div class="token-usd">245$</div>
                </div>
              </div>
              <div class="token-card">
                <div class="token-header">
                  <div class="token-name">Solana</div>
                  <div class="token-logo"></div>
                </div>
                <div class="token-footer">
                  <div class="token-placeholder">---</div>
                  <div class="token-divider"></div>
                  <div class="token-usd">---</div>
                </div>
              </div>
            </div>
          </div>

          <div class="nft-section">
            <div class="nft-header">
              <div class="nft-title">Your NFT Collection</div>
              <button class="config-button">⚙️</button>
            </div>

            <div class="nft-container">
              <div
                class="nft-item"
                v-for="nft in userNFTs"
                :key="nft.id"
                :class="{flipped: flippedNFTs[nft.id]}"
                @click="toggleFlip(nft.id)"
              >
                <div class="nft-flip-card">
                  <div class="nft-flip-card-inner">
                    <div class="nft-flip-card-front">
                      <img :src="nft.image" alt="NFT" />
                    </div>
                    <div class="nft-flip-card-back">
                      <div :id="'qrcode-' + nft.id"></div>
                      <p class="qrcode-title">NFT Ownership Proof</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Страница уведомлений -->
        <div
          class="page alert-page"
          :class="{active: currentPage === 'alerts'}"
        >
          <div class="alert-title">All notifications</div>

          <div class="notification" v-for="alert in alerts" :key="alert.id">
            <div class="notification-title">
              <span>{{ alert.title }}</span>
              <span class="notification-time"
                >{{ formatTime(alert.createdAt) }}</span
              >
            </div>
            <div class="notification-text">{{ alert.text }}</div>
          </div>
        </div>

        <!-- Страница профиля -->
        <div
          class="page profile-page"
          :class="{active: currentPage === 'profile'}"
        >
          <div class="profile-header">
            <div class="back-btn" @click="currentPage = 'home'">
              <i class="fas fa-arrow-left"></i>
            </div>
            <div class="profile-avatar">
              <img
                :src="currentUser.avatar || 'img/default-avatar.png'"
                alt="Profile Avatar"
              />
            </div>
            <div class="profile-name">{{ currentUser.name }}</div>
            <div class="profile-location">
              {{ currentUser.location || 'No location specified' }}
            </div>
            <div class="profile-bio">{{ currentUser.bio || 'No bio yet' }}</div>
          </div>

          <div class="section-title">Account</div>

          <div class="account-card">
            <div class="account-item" @click="editProfile">
              <div>
                <i class="fas fa-user-edit"></i>
                <span>Edit Profile</span>
              </div>
              <i class="fas fa-chevron-right"></i>
            </div>
            <div class="account-item" @click="currentPage = 'security'">
              <div>
                <i class="fas fa-lock"></i>
                <span>Security</span>
              </div>
              <i class="fas fa-chevron-right"></i>
            </div>
            <div class="account-item" @click="currentPage = 'wallet-settings'">
              <div>
                <i class="fas fa-wallet"></i>
                <span>Wallet settings</span>
              </div>
              <i class="fas fa-chevron-right"></i>
            </div>
            <div class="account-item" @click="logout">
              <div>
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
              </div>
              <i class="fas fa-chevron-right"></i>
            </div>
          </div>
        </div>

        <!-- Новая страница Security -->
        <div
          class="page security-page"
          :class="{active: currentPage === 'security'}"
        >
          <div class="profile-header">
            <div class="back-btn" @click="currentPage = 'profile'">
              <i class="fas fa-arrow-left"></i>
            </div>
            <h2 class="security-title">Security Settings</h2>
          </div>

          <div class="security-container">
            <div class="form-section">
              <span class="section-title">Change Password</span>
              <div class="form-group">
                <label>Current Password</label>
                <input
                  type="password"
                  placeholder="Enter current password"
                  v-model="currentPassword"
                />
              </div>
              <div class="form-group">
                <label>New Password</label>
                <input
                  type="password"
                  placeholder="Enter new password"
                  v-model="newPassword"
                />
              </div>
              <div class="form-group">
                <label>Confirm New Password</label>
                <input
                  type="password"
                  placeholder="Confirm new password"
                  v-model="confirmNewPassword"
                />
              </div>
              <button class="save-btn" @click="changePassword">
                Save Changes
              </button>
            </div>

            <div class="form-section">
              <span class="section-title">Two-Factor Authentication</span>
              <div class="toggle-2fa">
                <span>Enable 2FA</span>
                <label class="switch">
                  <input type="checkbox" v-model="twoFactorEnabled" />
                  <span class="slider round"></span>
                </label>
              </div>
              <p class="info-text">
                Two-factor authentication adds an extra layer of security to
                your account.
              </p>
            </div>
          </div>
        </div>

        <!-- Новая страница Wallet Settings -->
        <div
          class="page wallet-settings-page"
          :class="{active: currentPage === 'wallet-settings'}"
        >
          <div class="profile-header">
            <div class="back-btn" @click="currentPage = 'profile'">
              <i class="fas fa-arrow-left"></i>
            </div>
            <h2 class="wallet-settings-title">Wallet Settings</h2>
          </div>

          <div class="wallet-settings-container">
            <div v-if="!walletCreated" class="setup-wallet">
              <h3>Set Up Your Wallet</h3>
              <p>To use NFT features, you need to create a secure wallet.</p>

              <div class="form-group">
                <label>Email</label>
                <input
                  type="email"
                  placeholder="Enter your email"
                  v-model="walletEmail"
                />
              </div>
              <div class="form-group">
                <label>Wallet Password</label>
                <input
                  type="password"
                  placeholder="Create wallet password"
                  v-model="walletPassword"
                />
              </div>
              <div class="form-group">
                <label>Confirm Password</label>
                <input
                  type="password"
                  placeholder="Confirm wallet password"
                  v-model="confirmWalletPassword"
                />
              </div>
              <div class="form-group">
                <label>Recovery Phrase</label>
                <div class="recovery-phrase" v-if="recoveryPhrase">
                  {{ recoveryPhrase }}
                  <button class="copy-btn" @click="copyRecoveryPhrase">
                    <i class="fas fa-copy"></i> Copy
                  </button>
                </div>
                <div v-else>
                  <p>This will be generated after wallet creation</p>
                </div>
              </div>
              <button class="create-wallet-btn" @click="createWallet">
                Create Wallet
              </button>
            </div>

            <div v-else class="wallet-info">
              <h3>Your Wallet Information</h3>
              <div class="wallet-detail">
                <span>Wallet Address:</span>
                <span class="wallet-address">{{ walletAddress }}</span>
                <button class="copy-btn" @click="copyWalletAddress">
                  <i class="fas fa-copy"></i>
                </button>
              </div>
              <div class="wallet-detail">
                <span>Connected Email:</span>
                <span>{{ walletEmail }}</span>
              </div>
              <div class="wallet-detail">
                <span>Wallet Status:</span>
                <span class="status-active">Active</span>
              </div>

              <div class="wallet-actions">
                <button class="wallet-action-btn" @click="showRecoveryPhrase">
                  <i class="fas fa-key"></i> Show Recovery Phrase
                </button>
                <button class="wallet-action-btn" @click="changeWalletPassword">
                  <i class="fas fa-lock"></i> Change Password
                </button>
                <button class="wallet-action-btn danger" @click="resetWallet">
                  <i class="fas fa-trash"></i> Reset Wallet
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Страница добавления NFT -->
        <div
          class="page add-nft-page"
          :class="{active: currentPage === 'add-nft'}"
        >
          <h2 class="add-nft-title">Create NFT</h2>

          <div class="form-section">
            <span class="section-title">Property NFT Type</span>
            <div class="ownership-options">
              <div
                class="ownership-option"
                :class="{selected: ownershipType === 'own'}"
                @click="ownershipType = 'own'"
              >
                <i class="fas fa-user"></i>
                <div>Own</div>
              </div>
              <div
                class="ownership-option"
                :class="{selected: ownershipType === 'coauthored'}"
                @click="ownershipType = 'coauthored'"
              >
                <i class="fas fa-users"></i>
                <div>Co-authored</div>
              </div>
            </div>
          </div>

          <div class="form-section">
            <span class="section-title">NFT name*</span>
            <input
              type="text"
              class="text-input"
              placeholder="Enter NFT name"
              v-model="nftName"
            />
          </div>

          <div class="form-section">
            <span class="section-title">NFT image*</span>
            <div class="upload-area" @click="triggerFileInput('nft')">
              <div class="upload-icon">
                <i class="fas fa-image"></i>
              </div>
              <div class="upload-text">
                <strong>Drag and drop or click to upload</strong>
                <small
                  >You may change this after deploying your contract.<br />Recommended
                  size: 350 x 350.<br />File types: JPG, PNG, SVG, or GIF</small
                >
              </div>
              <input
                type="file"
                id="nft-upload"
                style="display: none"
                @change="handleNftUpload"
              />
            </div>
            <div class="nft-preview" v-if="nftImagePreview">
              <img
                :src="nftImagePreview"
                alt="NFT Preview"
                style="max-width: 100%; max-height: 200px; margin-top: 10px"
              />
            </div>
          </div>

          <div class="form-section">
            <span class="section-title">Description*</span>
            <textarea
              class="text-input"
              rows="3"
              placeholder="Enter description here..."
              v-model="nftDescription"
            ></textarea>
          </div>

          <div class="form-section">
            <span class="section-title">Tags*</span>
            <input
              type="text"
              class="tags-input"
              placeholder="Enter tags #here"
              v-model="nftTags"
            />
          </div>

          <div class="form-section">
            <span class="section-title">External link*</span>
            <input
              type="text"
              class="text-input"
              placeholder="Enter URL"
              v-model="nftExternalLink"
            />
          </div>

          <div class="form-section">
            <span class="section-title">Attributes</span>
            <div style="color: #888; margin-bottom: 10px">
              Number of attributes
            </div>
            <div class="attributes-control">
              <button class="attribute-btn" @click="decreaseAttributes">
                -
              </button>
              <span class="attributes-count">{{ attributesCount }}</span>
              <button class="attribute-btn" @click="increaseAttributes">
                +
              </button>
            </div>
          </div>

          <div class="form-section">
            <span class="section-title">Traits</span>
            <div style="color: #888; margin-bottom: 10px">
              Traits describe attributes of your item. They appear as filters
              inside your collection page and are also listed out inside your
              item page.
            </div>
            <button class="add-trait-btn" @click="addTrait">
              <i class="fas fa-plus"></i>
              <span>Add traits</span>
            </button>
          </div>

          <button class="create-nft-btn" @click="createNFT">Create NFT</button>

          <!-- Раздел с QR-кодом -->
          <div class="qr-section" v-if="qrCodeGenerated">
            <h3 class="qr-title">Share your NFT</h3>
            <div class="qr-container" id="qrcode"></div>
            <button class="generate-qr-btn" @click="generateQRCode">
              Regenerate QR Code
            </button>
          </div>
        </div>

        <!-- Нижняя навигация -->
        <div class="bottom-nav">
          <div
            class="nav-item"
            :class="{active: currentPage === 'home'}"
            @click="currentPage = 'home'"
          >
            <i class="fas fa-home"></i>
            <span>Home</span>
          </div>
          <div
            class="nav-item"
            :class="{active: currentPage === 'wallet'}"
            @click="currentPage = 'wallet'"
          >
            <i class="fas fa-wallet"></i>
            <span>Wallet</span>
          </div>
          <div
            class="nav-item"
            :class="{active: currentPage === 'add-nft'}"
            @click="currentPage = 'add-nft'"
          >
            <i class="fas fa-plus-circle"></i>
            <span>Add NFT</span>
          </div>
          <div
            class="nav-item"
            :class="{active: currentPage === 'alerts'}"
            @click="currentPage = 'alerts'"
          >
            <i class="fas fa-bell"></i>
            <span>Alerts</span>
          </div>
          <div
            class="nav-item"
            :class="{active: currentPage === 'profile'}"
            @click="currentPage = 'profile'"
          >
            <i class="fas fa-user"></i>
            <span>Profile</span>
          </div>
        </div>
      </div>
    </div>

    <script>
      const { createApp, ref, onMounted, computed } = Vue;

      createApp({
        setup() {
          // Состояния экранов
          const currentScreen = ref("splash");
          const currentAuthForm = ref("signup");
          const currentPage = ref("home");
          const backgroundPosition = ref("30% center");
          const flippedNFTs = ref({});

          // Данные авторизации
          const signupPhone = ref("");
          const signupPassword = ref("");
          const loginPhone = ref("");
          const loginPassword = ref("");

          // Данные пользователя
          const currentUser = ref({
            id: null,
            name: "Anonymous",
            phone: "",
            avatar: "img/default-avatar.png",
            location: "",
            bio: "",
          });

          // Данные для создания NFT
          const ownershipType = ref("own");
          const nftName = ref("");
          const nftDescription = ref("");
          const nftTags = ref("");
          const nftExternalLink = ref("");
          const attributesCount = ref(0);
          const traits = ref([]);
          const nftImagePreview = ref("");
          const nftImageFile = ref(null);
          const qrCodeGenerated = ref(false);

          // Посты и NFT
          const posts = ref([]);
          const userNFTs = ref([]);
          const alerts = ref([]);
          const searchQuery = ref("");
          const newComment = ref("");

          // Security
          const currentPassword = ref("");
          const newPassword = ref("");
          const confirmNewPassword = ref("");
          const twoFactorEnabled = ref(false);

          // Wallet Settings
          const walletCreated = ref(false);
          const walletEmail = ref("");
          const walletPassword = ref("");
          const confirmWalletPassword = ref("");
          const recoveryPhrase = ref("");
          const walletAddress = ref("");
          const showPhrase = ref(false);

          // Инициализация данных в LocalStorage
          const initLocalStorage = () => {
            if (!localStorage.getItem("users")) {
              localStorage.setItem("users", JSON.stringify([]));
            }
            if (!localStorage.getItem("posts")) {
              const demoPosts = [
                {
                  id: 1,
                  userId: 1,
                  userName: "Olera Sydorenko",
                  userAvatar: "img/056026b6db13070cbe45543d3d1ef857.png",
                  nftImage: "img/4b66197f9eb7e0792df1f70079064ea2dc357fc6.jpg",
                  title: "Sound Legacy-NFT",
                  description:
                    "Sound Legacy - A melody that will belong only to you, forever protected by blockchain.",
                  tags: ["MusicNFT", "Blockchain", "DigitalOwnership"],
                  likes: 124,
                  liked: false,
                  comments: [],
                  showComments: false,
                  createdAt: new Date().toISOString(),
                },
                {
                  id: 2,
                  userId: 2,
                  userName: "Bohdan Shevchenko",
                  userAvatar:
                    "img/9a7f219211dd83fedb08d30580f72b891e9efc04.jpg",
                  nftImage: "img/056026b6db13070cbe45543d3d1ef857.png",
                  title: "Symbolic of Strength",
                  description:
                    "This NFT represents the strength and resilience of the human spirit in digital form.",
                  tags: ["ArtNFT", "Symbolism", "Strength"],
                  likes: 89,
                  liked: false,
                  comments: [],
                  showComments: false,
                  createdAt: new Date(
                    Date.now() - 3 * 60 * 60 * 1000
                  ).toISOString(),
                },
              ];
              localStorage.setItem("posts", JSON.stringify(demoPosts));
            }
            if (!localStorage.getItem("alerts")) {
              localStorage.setItem("alerts", JSON.stringify([]));
            }
            if (!localStorage.getItem("wallet")) {
              localStorage.setItem("wallet", JSON.stringify([]));
            }
          };

          // Загрузка данных из LocalStorage
          const loadData = () => {
            posts.value = JSON.parse(localStorage.getItem("posts")) || [];
            alerts.value = JSON.parse(localStorage.getItem("alerts")) || [];
            userNFTs.value = JSON.parse(localStorage.getItem("wallet")) || [];

            // Загружаем текущего пользователя, если он авторизован
            const users = JSON.parse(localStorage.getItem("users")) || [];
            const loggedInUserId = localStorage.getItem("loggedInUserId");
            if (loggedInUserId) {
              const user = users.find((u) => u.id == loggedInUserId);
              if (user) {
                currentUser.value = user;
              }
            }
          };

          // Сохранение данных в LocalStorage
          const saveData = (key, data) => {
            localStorage.setItem(key, JSON.stringify(data));
          };

          // Фильтрация постов по поисковому запросу
          const filteredPosts = computed(() => {
            if (!searchQuery.value) return posts.value;
            const query = searchQuery.value.toLowerCase();
            return posts.value.filter(
              (post) =>
                post.title.toLowerCase().includes(query) ||
                post.description.toLowerCase().includes(query) ||
                (post.tags &&
                  post.tags.some((tag) => tag.toLowerCase().includes(query)))
            );
          });

          // Обработка авторизации
          const handleAuth = (type) => {
            if (type === "signup") {
              // Регистрация нового пользователя
              const users = JSON.parse(localStorage.getItem("users")) || [];
              const newUser = {
                id: Date.now(),
                name: `User${users.length + 1}`,
                phone: signupPhone.value,
                password: signupPassword.value,
                avatar: "img/default-avatar.png",
                createdAt: new Date().toISOString(),
              };
              users.push(newUser);
              saveData("users", users);

              // Авторизуем нового пользователя
              localStorage.setItem("loggedInUserId", newUser.id);
              currentUser.value = newUser;
              currentScreen.value = "app";

              // Добавляем уведомление
              addAlert(
                "Welcome!",
                `Welcome to MARKIdentity, ${newUser.name}! Start by creating your first NFT.`
              );
            } else {
              // Вход существующего пользователя
              const users = JSON.parse(localStorage.getItem("users")) || [];
              const user = users.find(
                (u) =>
                  u.phone === loginPhone.value &&
                  u.password === loginPassword.value
              );

              if (user) {
                localStorage.setItem("loggedInUserId", user.id);
                currentUser.value = user;
                currentScreen.value = "app";

                // Добавляем уведомление
                addAlert("Welcome back!", `Welcome back, ${user.name}!`);
              } else {
                alert("Invalid phone number or password");
              }
            }
          };

          // Выход из системы
          const logout = () => {
            localStorage.removeItem("loggedInUserId");
            currentUser.value = {
              id: null,
              name: "Anonymous",
              phone: "",
              avatar: "img/default-avatar.png",
            };
            currentScreen.value = "auth";
            currentAuthForm.value = "login";
          };

          // Редактирование профиля
          const editProfile = () => {
            const newName = prompt("Enter your name:", currentUser.value.name);
            if (newName !== null) {
              const newBio = prompt(
                "Enter your bio:",
                currentUser.value.bio || ""
              );
              const newLocation = prompt(
                "Enter your location:",
                currentUser.value.location || ""
              );

              currentUser.value.name = newName;
              currentUser.value.bio = newBio;
              currentUser.value.location = newLocation;

              // Обновляем в LocalStorage
              const users = JSON.parse(localStorage.getItem("users")) || [];
              const userIndex = users.findIndex(
                (u) => u.id === currentUser.value.id
              );
              if (userIndex !== -1) {
                users[userIndex] = currentUser.value;
                saveData("users", users);
              }

              addAlert(
                "Profile updated",
                "Your profile information has been updated successfully."
              );
            }
          };

          // Добавление лайка к посту
          const toggleLike = (postId) => {
            const postIndex = posts.value.findIndex((p) => p.id === postId);
            if (postIndex !== -1) {
              const post = posts.value[postIndex];
              post.liked = !post.liked;
              post.likes += post.liked ? 1 : -1;

              // Сохраняем изменения
              saveData("posts", posts.value);

              // Добавляем уведомление
              if (post.liked) {
                addAlert(
                  "New like",
                  `You liked ${post.userName}'s post "${post.title}"`
                );
              }
            }
          };

          // Переключение отображения комментариев
          const toggleComments = (postId) => {
            const postIndex = posts.value.findIndex((p) => p.id === postId);
            if (postIndex !== -1) {
              posts.value[postIndex].showComments =
                !posts.value[postIndex].showComments;
            }
          };

          // Добавление комментария
          const addComment = (postId) => {
            if (!newComment.value.trim()) return;

            const postIndex = posts.value.findIndex((p) => p.id === postId);
            if (postIndex !== -1) {
              const comment = {
                id: Date.now(),
                userId: currentUser.value.id,
                userName: currentUser.value.name,
                userAvatar: currentUser.value.avatar,
                text: newComment.value,
                createdAt: new Date().toISOString(),
              };

              posts.value[postIndex].comments.push(comment);
              newComment.value = "";

              // Сохраняем изменения
              saveData("posts", posts.value);

              // Добавляем уведомление
              if (posts.value[postIndex].userId !== currentUser.value.id) {
                addAlert(
                  "New comment",
                  `${currentUser.value.name} commented on your post: "${comment.text}"`
                );
              }
            }
          };

          // Покупка NFT
          const buyNFT = (post) => {
            // Создаем NFT для кошелька пользователя
            const newNFT = {
              id: Date.now(),
              title: post.title,
              image: post.nftImage,
              description: post.description,
              originalPostId: post.id,
              ownerId: currentUser.value.id,
              createdAt: new Date().toISOString(),
            };

            userNFTs.value.push(newNFT);
            saveData("wallet", userNFTs.value);
            flippedNFTs.value[newNFT.id] = false;

            // Добавляем уведомление
            addAlert(
              "NFT Purchased",
              `You have successfully purchased "${post.title}" NFT. It's now in your wallet.`
            );

            // Показываем сообщение об успешной покупке
            alert(`You have successfully purchased "${post.title}" NFT!`);

            // Генерируем QR-код
            generateNFTQRCode(newNFT.id);
          };

          // Показать детали NFT
          const showNFTDetails = (nft) => {
            alert(
              `NFT Details:\nTitle: ${nft.title}\nDescription: ${
                nft.description
              }\nOwned since: ${formatTime(nft.createdAt)}`
            );
          };

          // Добавление уведомления
          const addAlert = (title, text) => {
            const newAlert = {
              id: Date.now(),
              title,
              text,
              createdAt: new Date().toISOString(),
              read: false,
            };

            alerts.value.unshift(newAlert);
            saveData("alerts", alerts.value);
          };

          // Форматирование времени
          const formatTime = (timestamp) => {
            const now = new Date();
            const date = new Date(timestamp);
            const diff = now - date;

            const seconds = Math.floor(diff / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            const days = Math.floor(hours / 24);

            if (days > 0) return `${days} day${days > 1 ? "s" : ""} ago`;
            if (hours > 0) return `${hours} hour${hours > 1 ? "s" : ""} ago`;
            if (minutes > 0)
              return `${minutes} minute${minutes > 1 ? "s" : ""} ago`;
            return "just now";
          };

          // NFT Creation Functions
          const triggerFileInput = (type) => {
            document.getElementById(`${type}-upload`).click();
          };

          const handleNftUpload = (event) => {
            const file = event.target.files[0];
            if (file) {
              nftImageFile.value = file;
              nftImagePreview.value = URL.createObjectURL(file);
            }
          };

          const increaseAttributes = () => {
            attributesCount.value++;
          };

          const decreaseAttributes = () => {
            if (attributesCount.value > 0) {
              attributesCount.value--;
            }
          };

          const addTrait = () => {
            traits.value.push({
              trait_type: "",
              value: "",
            });
          };

          // Переключение состояния переворота NFT
          const toggleFlip = (nftId) => {
            flippedNFTs.value[nftId] = !flippedNFTs.value[nftId];

            if (flippedNFTs.value[nftId]) {
              generateNFTQRCode(nftId);
            }
          };

          // Генерация QR-кода для NFT
          const generateNFTQRCode = (nftId) => {
            const nft = userNFTs.value.find((n) => n.id === nftId);
            if (nft) {
              setTimeout(() => {
                const qrContainer = document.getElementById(`qrcode-${nftId}`);
                if (qrContainer) {
                  qrContainer.innerHTML = "";
                  new QRCode(qrContainer, {
                    text: `NFT ID: ${nftId}\nName: ${nft.title}\nOwner: ${
                      currentUser.value.name
                    }\nCreated: ${new Date(
                      nft.createdAt
                    ).toLocaleDateString()}`,
                    width: 120,
                    height: 120,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H,
                  });
                }
              }, 100);
            }
          };

          // Создание NFT
          const createNFT = () => {
            if (!nftName.value || !nftDescription.value) {
              alert("Please fill in all required fields");
              return;
            }

            // Создаем новый пост с NFT
            const newPost = {
              id: Date.now(),
              userId: currentUser.value.id,
              userName: currentUser.value.name,
              userAvatar: currentUser.value.avatar,
              nftImage: nftImagePreview.value || "img/default-nft.png",
              title: nftName.value,
              description: nftDescription.value,
              tags: nftTags.value
                ? nftTags.value.split(",").map((tag) => tag.trim())
                : [],
              likes: 0,
              liked: false,
              comments: [],
              showComments: false,
              createdAt: new Date().toISOString(),
            };

            posts.value.unshift(newPost);
            saveData("posts", posts.value);

            // Добавляем NFT в кошелек пользователя
            const newNFT = {
              id: newPost.id,
              title: nftName.value,
              image: nftImagePreview.value || "img/default-nft.png",
              description: nftDescription.value,
              originalPostId: newPost.id,
              ownerId: currentUser.value.id,
              createdAt: new Date().toISOString(),
            };

            userNFTs.value.unshift(newNFT);
            saveData("wallet", userNFTs.value);
            flippedNFTs.value[newNFT.id] = false;

            // Добавляем уведомление
            addAlert(
              "NFT Created",
              `You have successfully created "${nftName.value}" NFT. It's now in your wallet.`
            );

            // Генерируем QR-код
            generateNFTQRCode(newNFT.id);

            // Показываем сообщение об успешном создании
            alert(`You have successfully created "${nftName.value}" NFT!`);

            // Сбрасываем форму
            resetNFTForm();

            // Переходим на главную страницу
            currentPage.value = "home";
          };

          // Сброс формы NFT
          const resetNFTForm = () => {
            nftName.value = "";
            nftDescription.value = "";
            nftTags.value = "";
            nftExternalLink.value = "";
            attributesCount.value = 0;
            traits.value = [];
            nftImagePreview.value = "";
            nftImageFile.value = null;
            document.getElementById("nft-upload").value = "";
          };

          // ⚙️ Security: смена пароля
          const changePassword = () => {
            if (newPassword.value !== confirmNewPassword.value) {
              alert("New passwords don't match");
              return;
            }

            const users = JSON.parse(localStorage.getItem("users")) || [];
            const userIndex = users.findIndex(
              (u) => u.id === currentUser.value.id
            );

            if (userIndex !== -1) {
              if (users[userIndex].password !== currentPassword.value) {
                alert("Current password is incorrect");
                return;
              }

              users[userIndex].password = newPassword.value;
              localStorage.setItem("users", JSON.stringify(users));
              currentUser.value.password = newPassword.value;

              alert("Password changed successfully");
              currentPassword.value = "";
              newPassword.value = "";
              confirmNewPassword.value = "";

              addAlert(
                "Password Changed",
                "Your account password has been updated successfully."
              );
            }
          };

          // ⚙️ Wallet: создание
          const createWallet = () => {
            if (walletPassword.value !== confirmWalletPassword.value) {
              alert("Passwords don't match");
              return;
            }

            if (!walletEmail.value) {
              alert("Please enter your email");
              return;
            }

            const phrases = [
              "apple",
              "banana",
              "cherry",
              "date",
              "elderberry",
              "fig",
              "grape",
              "honeydew",
              "kiwi",
              "lemon",
              "mango",
              "nectarine",
            ];
            recoveryPhrase.value = phrases
              .sort(() => 0.5 - Math.random())
              .slice(0, 12)
              .join(" ");

            walletAddress.value =
              "0x" +
              Array.from({ length: 40 }, () =>
                Math.floor(Math.random() * 16).toString(16)
              ).join("");

            walletCreated.value = true;

            const users = JSON.parse(localStorage.getItem("users")) || [];
            const userIndex = users.findIndex(
              (u) => u.id === currentUser.value.id
            );

            if (userIndex !== -1) {
              users[userIndex].wallet = {
                email: walletEmail.value,
                password: walletPassword.value,
                recoveryPhrase: recoveryPhrase.value,
                address: walletAddress.value,
                createdAt: new Date().toISOString(),
              };

              localStorage.setItem("users", JSON.stringify(users));
              currentUser.value.wallet = users[userIndex].wallet;
            }

            addAlert(
              "Wallet Created",
              "Your NFT wallet has been created successfully."
            );
          };

          const copyRecoveryPhrase = () => {
            navigator.clipboard.writeText(recoveryPhrase.value);
            alert("Recovery phrase copied to clipboard");
          };

          const copyWalletAddress = () => {
            navigator.clipboard.writeText(walletAddress.value);
            alert("Wallet address copied to clipboard");
          };

          const showRecoveryPhrase = () => {
            alert(
              `Your recovery phrase is:\n\n${currentUser.value.wallet.recoveryPhrase}\n\nKeep it safe!`
            );
          };

          const changeWalletPassword = () => {
            const newPass = prompt("Enter new wallet password:");
            if (newPass) {
              const confirmPass = prompt("Confirm new wallet password:");

              if (newPass === confirmPass) {
                const users = JSON.parse(localStorage.getItem("users")) || [];
                const userIndex = users.findIndex(
                  (u) => u.id === currentUser.value.id
                );

                if (userIndex !== -1 && users[userIndex].wallet) {
                  users[userIndex].wallet.password = newPass;
                  localStorage.setItem("users", JSON.stringify(users));
                  currentUser.value.wallet.password = newPass;
                  alert("Wallet password changed successfully");
                }
              } else {
                alert("Passwords don't match");
              }
            }
          };

          const resetWallet = () => {
            if (
              confirm(
                "Are you sure you want to reset your wallet? This will delete all your NFTs and wallet data."
              )
            ) {
              const users = JSON.parse(localStorage.getItem("users")) || [];
              const userIndex = users.findIndex(
                (u) => u.id === currentUser.value.id
              );

              if (userIndex !== -1) {
                delete users[userIndex].wallet;
                localStorage.setItem("users", JSON.stringify(users));

                let walletNFTs =
                  JSON.parse(localStorage.getItem("wallet")) || [];
                walletNFTs = walletNFTs.filter(
                  (nft) => nft.ownerId !== currentUser.value.id
                );
                localStorage.setItem("wallet", JSON.stringify(walletNFTs));

                currentUser.value.wallet = null;
                walletCreated.value = false;
                walletEmail.value = "";
                walletPassword.value = "";
                confirmWalletPassword.value = "";
                recoveryPhrase.value = "";
                walletAddress.value = "";

                addAlert(
                  "Wallet Reset",
                  "Your wallet has been reset successfully."
                );
              }
            }
          }; // ✅ ЗАКРЫЛИ resetWallet

          // Инициализация приложения
          onMounted(() => {
            initLocalStorage();
            loadData();

            if (currentUser.value.wallet) {
              walletCreated.value = true;
              walletEmail.value = currentUser.value.wallet.email;
              walletAddress.value = currentUser.value.wallet.address;
            }

            // Проверяем, авторизован ли пользователь
            const loggedInUserId = localStorage.getItem("loggedInUserId");
            if (loggedInUserId) {
              currentScreen.value = "app";
            }

            // Анимация фона при переходе на welcome screen
            setTimeout(() => {
              if (currentScreen.value === "splash") {
                currentScreen.value = "welcome";
                backgroundPosition.value = "70% center";
              }
            }, 2000);

            // Генерируем QR-коды для NFT в кошельке
            setTimeout(() => {
              userNFTs.value.forEach((nft) => {
                flippedNFTs.value[nft.id] = false;
                generateNFTQRCode(nft.id);
              });
            }, 500);
          });

          return {
            currentScreen,
            currentAuthForm,
            currentPage,
            backgroundPosition,
            signupPhone,
            signupPassword,
            loginPhone,
            loginPassword,
            currentUser,
            ownershipType,
            nftName,
            nftDescription,
            nftTags,
            nftExternalLink,
            attributesCount,
            traits,
            nftImagePreview,
            qrCodeGenerated,
            posts,
            userNFTs,
            alerts,
            searchQuery,
            newComment,
            flippedNFTs,
            filteredPosts,
            handleAuth,
            logout,
            editProfile,
            toggleLike,
            toggleComments,
            addComment,
            buyNFT,
            showNFTDetails,
            formatTime,
            triggerFileInput,
            handleNftUpload,
            increaseAttributes,
            decreaseAttributes,
            addTrait,
            createNFT,
            toggleFlip,
            // Security
            currentPassword,
            newPassword,
            confirmNewPassword,
            twoFactorEnabled,
            changePassword,

            // Wallet Settings
            walletCreated,
            walletEmail,
            walletPassword,
            confirmWalletPassword,
            recoveryPhrase,
            walletAddress,
            showPhrase,
            createWallet,
            copyRecoveryPhrase,
            copyWalletAddress,
            showRecoveryPhrase,
            changeWalletPassword,
            resetWallet,
          };
        },
      }).mount("#app");
    </script>
  </body>
</html>
