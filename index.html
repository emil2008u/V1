 <!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Solo Leveling: –ü—Ä–æ–∫–∞—á–∫–∞ –ì–µ—Ä–æ—è</title>
<style>
  body {
    font-family: monospace;
    background: linear-gradient(135deg, #000000, #1a1a1a);
    color: #00ffcc;
    max-width: 650px;
    margin: 40px auto;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 0 30px #00ffcc33;
  }
  h1 {
    text-align: center;
    color: #00ffee;
    text-shadow: 0 0 10px #00ffee;
  }
  .box {
    background: #111;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    border: 1px solid #00ffaa33;
  }
  .box div {
    margin: 6px 0;
  }
  .desc {
    font-style: italic;
    color: #77ffe1;
    white-space: pre-line;
    min-height: 60px;
  }
  input[type=number], button {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    font-size: 1rem;
    border-radius: 6px;
    border: none;
  }
  input {
    background: #222;
    color: #00ffcc;
  }
  button {
    background: #00ffcc;
    color: #000;
    font-weight: bold;
    cursor: pointer;
  }
  button:hover:not(:disabled) {
    background: #00ccaa;
  }
  button:disabled {
    background: #004d40;
    cursor: not-allowed;
  }
  #raidTimer {
    text-align: center;
    margin-top: 8px;
    font-weight: bold;
  }
</style>
</head>
<body>

<h1>üìü Solo Leveling: –ü—Ä–æ–∫–∞—á–∫–∞ –ì–µ—Ä–æ—è</h1>

<div class="box">
  <div><strong>–†—ñ–≤–µ–Ω—å:</strong> <span id="level">1</span></div>
  <div><strong>XP:</strong> <span id="xp">0</span> / <span id="nextXp">100</span></div>
  <div><strong>–°–∏–ª–∞:</strong> <span id="strength">5</span></div>
  <div><strong>–í–∏—Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:</strong> <span id="stamina">5</span></div>
  <div><strong>–ì–Ω—É—á–∫—ñ—Å—Ç—å:</strong> <span id="flexibility">5</span></div>
  <div><strong>–û—á–∫–∏ –Ω–∞–≤–∏—á–æ–∫:</strong> <span id="skillPoints">0</span></div>
</div>

<div class="box">
  <h3>üìò –¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</h3>
  <div class="desc" id="trainingDesc">–ù–∞—Ç–∏—Å–Ω–∏ "–û—Ç—Ä–∏–º–∞—Ç–∏ –ó–∞–≤–¥–∞–Ω–Ω—è", —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –≤–ø—Ä–∞–≤–∏</div>
  <button id="startTrainingBtn">üìù –û—Ç—Ä–∏–º–∞—Ç–∏ –ó–∞–≤–¥–∞–Ω–Ω—è</button>
  <div id="realTask"></div>
  <button id="confirmDoneBtn" style="display:none;">‚úÖ –Ø –≤–∏–∫–æ–Ω–∞–≤ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</button>
  <div><strong>–†—ñ–≤–µ–Ω—å —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è:</strong> <span id="trainingLevel">1</span> / 100</div>
</div>

<div class="box">
  <h3>üõ° –†–µ–π–¥</h3>
  <div class="desc" id="raidDesc">–ù–∞—Ç–∏—Å–Ω–∏ "–í–∏–π—Ç–∏ –Ω–∞ —Ä–µ–π–¥", —â–æ–± —Ä–æ–∑–ø–æ—á–∞—Ç–∏</div>
  <button id="doRaidBtn">‚öîÔ∏è –í–∏–π—Ç–∏ –Ω–∞ —Ä–µ–π–¥</button>
  <div id="raidTimer"></div>
  <div><strong>–†—ñ–≤–µ–Ω—å —Ä–µ–π–¥—É:</strong> <span id="raidLevel">1</span> / 1000</div>
</div>

<div class="box">
  <h3>‚öôÔ∏è –†–æ–∑–ø–æ–¥—ñ–ª –û—á–æ–∫ –ù–∞–≤–∏—á–æ–∫</h3>
  <label>–°–∏–ª–∞:</label>
  <input type="number" id="strengthPoints" min="0" value="0" />
  <label>–í–∏—Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:</label>
  <input type="number" id="staminaPoints" min="0" value="0" />
  <label>–ì–Ω—É—á–∫—ñ—Å—Ç—å:</label>
  <input type="number" id="flexibilityPoints" min="0" value="0" />
  <button id="allocateBtn">üì§ –†–æ–∑–ø–æ–¥—ñ–ª–∏—Ç–∏</button>
</div>

<script>
  const levelEl = document.getElementById('level');
  const xpEl = document.getElementById('xp');
  const nextXpEl = document.getElementById('nextXp');
  const strengthEl = document.getElementById('strength');
  const staminaEl = document.getElementById('stamina');
  const flexibilityEl = document.getElementById('flexibility');
  const skillPointsEl = document.getElementById('skillPoints');
  const trainingLevelEl = document.getElementById('trainingLevel');
  const trainingDescEl = document.getElementById('trainingDesc');
  const raidLevelEl = document.getElementById('raidLevel');
  const raidDescEl = document.getElementById('raidDesc');
  const raidTimerEl = document.getElementById('raidTimer');
  const realTask = document.getElementById('realTask');

  const strengthPointsInput = document.getElementById('strengthPoints');
  const staminaPointsInput = document.getElementById('staminaPoints');
  const flexibilityPointsInput = document.getElementById('flexibilityPoints');

  const startTrainingBtn = document.getElementById('startTrainingBtn');
  const confirmDoneBtn = document.getElementById('confirmDoneBtn');
  const doRaidBtn = document.getElementById('doRaidBtn');
  const allocateBtn = document.getElementById('allocateBtn');

  let player = JSON.parse(localStorage.getItem('playerData')) || {
    level: 1,
    xp: 0,
    nextXp: 100,
    strength: 5,
    stamina: 5,
    flexibility: 5,
    skillPoints: 0,
    trainingLevel: 1,
    raidLevel: 1
  };

  function saveData() {
    localStorage.setItem('playerData', JSON.stringify(player));
  }

  function updateDisplay() {
    levelEl.textContent = player.level;
    xpEl.textContent = player.xp;
    nextXpEl.textContent = player.nextXp;
    strengthEl.textContent = player.strength;
    staminaEl.textContent = player.stamina;
    flexibilityEl.textContent = player.flexibility;
    skillPointsEl.textContent = player.skillPoints;
    trainingLevelEl.textContent = player.trainingLevel;
    raidLevelEl.textContent = player.raidLevel;
    raidDescEl.textContent = `–†–µ–π–¥ ${player.raidLevel}: –ú–æ–Ω—Å—Ç—Ä –∞—Ç–∞–∫—É—î ${raidAttackCount(player.raidLevel)} —Ä–∞–∑—ñ–≤! –í–∏–∂–∏–≤–∏!`;
  }

  function levelUp() {
    player.level++;
    player.skillPoints += 5;
    player.nextXp = Math.floor(player.nextXp * 1.2);
    alert(`üéâ –†–Ü–í–ï–ù–¨ –ü–Ü–î–í–ò–©–ï–ù–û! –¢–µ–ø–µ—Ä —Ç–∏ ${player.level}-–≥–æ —Ä—ñ–≤–Ω—è (+5 –æ—á–æ–∫ –Ω–∞–≤–∏—á–æ–∫)`);
  }

  function gainXp(amount) {
    player.xp += amount;
    while (player.xp >= player.nextXp) {
      player.xp -= player.nextXp;
      levelUp();
    }
    saveData();
    updateDisplay();
  }

  // –°–ø–∏—Å–æ–∫ –≤–ø—Ä–∞–≤
  const exercises = [
    {name: "–í—ñ–¥–∂–∏–º–∞–Ω–Ω—è", unit: "–ø–æ–≤—Ç–æ—Ä–µ–Ω—å", base: 100},
    {name: "–ü—Ä–∏—Å—ñ–¥–∞–Ω–Ω—è", unit: "–ø–æ–≤—Ç–æ—Ä–µ–Ω—å", base: 30},
    {name: "–ë–µ—Ä–ø—ñ", unit: "–ø–æ–≤—Ç–æ—Ä–µ–Ω—å", base: 50},
    {name: "–ü–ª–∞–Ω–∫–∞", unit: "—Å–µ–∫—É–Ω–¥", base: 30},
    {name: "–ü—Ä–µ—Å (—Å–∫—Ä—É—á—É–≤–∞–Ω–Ω—è)", unit: "–ø–æ–≤—Ç–æ—Ä–µ–Ω—å", base: 40},
    {name: "–ê–ª—å–ø—ñ–Ω—ñ—Å—Ç", unit: "–ø–æ–≤—Ç–æ—Ä–µ–Ω—å", base: 60},
    {name: "–í–∏–ø–∞–¥–∏", unit: "–ø–æ–≤—Ç–æ—Ä–µ–Ω—å", base: 40},
    {name: "–°—Ç—Ä–∏–±–∫–∏ –∑—ñ—Ä–æ—á–∫–æ—é", unit: "–ø–æ–≤—Ç–æ—Ä–µ–Ω—å", base: 80},
    {name: "–°—É–ø–µ—Ä–º–µ–Ω", unit: "—Å–µ–∫—É–Ω–¥", base: 30},
    {name: "–ü—ñ–¥–π–æ–º –∫–æ–ª—ñ–Ω —Å—Ç–æ—è—á–∏", unit: "–ø–æ–≤—Ç–æ—Ä–µ–Ω—å", base: 70}
  ];

  // –ì–µ–Ω–µ—Ä—É—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π –Ω–∞–±—ñ—Ä –≤–ø—Ä–∞–≤ 4-6 —à—Ç—É–∫ –∑ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫–æ–º —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ
  function generateExercises(level, multiplier=1) {
    // –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤–ø—Ä–∞–≤ 4-6 –≤–∏–ø–∞–¥–∫–æ–≤–æ
    const count = Math.floor(Math.random() * 3) + 4; // 4,5 –∞–±–æ 6

    // –ö–æ–ø—ñ—é—î–º–æ –º–∞—Å–∏–≤ —ñ –ø–µ—Ä–µ–º—ñ—à—É—î–º–æ (Fisher-Yates)
    const arr = [...exercises];
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }

    // –ë–µ—Ä–µ–º–æ count –≤–ø—Ä–∞–≤
    const chosen = arr.slice(0, count);

    // –í–∏—Ä–∞—Ö–æ–≤—É—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑—Ä–æ—Å—Ç–∞—é—á–∏ –ø–æ —Ä—ñ–≤–Ω—é —Ç–∞ –º–Ω–æ–∂–Ω–∏–∫—É (–¥–ª—è —Ä–µ–π–¥—É)
    const result = chosen.map(ex => {
      const amount = Math.round(ex.base * (1 + 0.12 * (level -1)) * multiplier);
      return {name: ex.name, amount, unit: ex.unit};
    });

    return result;
  }

  // –î–ª—è —Ä–µ–π–¥—É –≤–∏–≤–æ–¥–∏–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∞—Ç–∞–∫
  function raidAttackCount(level) {
    return 30 + level * 3;
  }

  let currentTraining = null;
  let currentRaid = null;

  startTrainingBtn.addEventListener('click', () => {
    if (currentTraining) {
      alert("–í–∂–µ —î –∞–∫—Ç–∏–≤–Ω–µ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è. –°–ø–æ—á–∞—Ç–∫—É –∑–∞–≤–µ—Ä—à–∏ –π–æ–≥–æ!");
      return;
    }
    const lvl = player.trainingLevel;
    currentTraining = generateExercises(lvl);
    trainingDescEl.textContent = `–¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è ${lvl}`;
    realTask.textContent = currentTraining.map(ex => `- ${ex.name}: ${ex.amount} ${ex.unit}`).join('\n');
    confirmDoneBtn.style.display = 'block';
  });

  confirmDoneBtn.addEventListener('click', () => {
    if (!currentTraining) {
      alert("–°–ø–æ—á–∞—Ç–∫—É –æ—Ç—Ä–∏–º–∞–π –∑–∞–≤–¥–∞–Ω–Ω—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è.");
      return;
    }
    const xpEarned = 15 + player.trainingLevel * 12;
    alert(`‚úÖ –ú–æ–ª–æ–¥–µ—Ü—å! –¢–∏ –æ—Ç—Ä–∏–º–∞–≤ ${xpEarned} XP –∑–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è.`);
    gainXp(xpEarned);
    if (player.trainingLevel < 100) player.trainingLevel++;
    confirmDoneBtn.style.display = 'none';
    realTask.textContent = '';
    currentTraining = null;
    saveData();
    updateDisplay();
  });

  doRaidBtn.addEventListener('click', () => {
    if (currentRaid) {
      alert("–í–∂–µ –π–¥–µ —Ä–µ–π–¥! –ó–∞–≤–µ—Ä—à—ñ—Ç—å –ø–æ—Ç–æ—á–Ω–∏–π.");
      return;
    }
    let countdown = 5;
    doRaidBtn.disabled = true;
    raidTimerEl.textContent = `‚è≥ –†–µ–π–¥ –ø–æ—á–Ω–µ—Ç—å—Å—è –∑–∞ ${countdown} —Å–µ–∫...`;
    currentRaid = generateExercises(player.raidLevel, 1.6);

    const timer = setInterval(() => {
      countdown--;
      if (countdown > 0) {
        raidTimerEl.textContent = `‚è≥ –†–µ–π–¥ –ø–æ—á–Ω–µ—Ç—å—Å—è –∑–∞ ${countdown} —Å–µ–∫...`;
      } else {
        clearInterval(timer);
        raidTimerEl.textContent = `‚öîÔ∏è –í–∏–∫–æ–Ω–∞–π —Ä–µ–π–¥:\n` + currentRaid.map(ex => `- ${ex.name}: ${ex.amount} ${ex.unit}`).join('\n');
        confirmRaidBtn.style.display = 'block';
      }
    }, 1000);
  });

  const confirmRaidBtn = document.createElement('button');
  confirmRaidBtn.textContent = "‚úÖ –Ø –≤–∏–∫–æ–Ω–∞–≤ —Ä–µ–π–¥";
  confirmRaidBtn.style.display = 'none';
  confirmRaidBtn.style.marginTop = '10px';
  doRaidBtn.parentNode.appendChild(confirmRaidBtn);

  confirmRaidBtn.addEventListener('click', () => {
    if (!currentRaid) {
      alert("–°–ø–æ—á–∞—Ç–∫—É –ø–æ—á–Ω–∏ —Ä–µ–π–¥!");
      return;
    }
    const xpEarned = 70 + player.raidLevel * 25;
    alert(`üî• –í—ñ—Ç–∞—î–º–æ! –¢–∏ –ø—Ä–æ–π—à–æ–≤ —Ä–µ–π–¥ —Ç–∞ –æ—Ç—Ä–∏–º–∞–≤ ${xpEarned} XP!`);
    gainXp(xpEarned);
    if (player.raidLevel < 1000) player.raidLevel++;
    confirmRaidBtn.style.display = 'none';
    raidTimerEl.textContent = "";
    currentRaid = null;
    doRaidBtn.disabled = false;
    saveData();
    updateDisplay();
  });

  allocateBtn.addEventListener('click', () => {
    const str = parseInt(strengthPointsInput.value) || 0;
    const sta = parseInt(staminaPointsInput.value) || 0;
    const flex = parseInt(flexibilityPointsInput.value) || 0;
    const total = str + sta + flex;

    if (total > player.skillPoints) {
      alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –æ—á–æ–∫ –Ω–∞–≤–∏—á–æ–∫!");
      return;
    }

    player.strength += str;
    player.stamina += sta;
    player.flexibility += flex;
    player.skillPoints -= total;

    strengthPointsInput.value = 0;
    staminaPointsInput.value = 0;
    flexibilityPointsInput.value = 0;

    saveData();
    updateDisplay();
  });

  updateDisplay();
</script>

</body>
</html>
